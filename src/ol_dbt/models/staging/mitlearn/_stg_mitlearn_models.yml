---
version: 2

models:
- name: stg__mitlearn__app__postgres__users_user
  description: MIT Learn user account information and authentication details
  columns:
  - name: user_id
    description: int, unique identifier for each user on the MIT Learn platform
    tests:
    - unique
    - not_null
  - name: user_global_id
    description: str, global identifier that can be used across all MIT Learning platforms
      to uniquely identify a user
    tests:
    - unique
  - name: user_username
    description: str, username chosen by the user
    tests:
    - not_null
  - name: user_email
    description: str, user email associated with their account
    tests:
    - not_null
  - name: user_is_active
    description: boolean, used to soft delete user accounts, indicates if the user
      account is active
    tests:
    - not_null
  - name: user_is_staff
    description: boolean, indicating whether user can log into admin site
    tests:
    - not_null
  - name: user_is_superuser
    description: boolean, indicating whether user has all permissions on MIT Learn
      platform
    tests:
    - not_null
  - name: user_first_name
    description: str, user's first name
  - name: user_last_name
    description: str, user's last name
  - name: user_scim_id
    description: str, SCIM (System for Cross-domain Identity Management) identifier
      for the user
  - name: user_scim_username
    description: str, SCIM username for identity management integration
  - name: user_scim_external_id
    description: str, external SCIM identifier used for identity synchronization
  - name: user_created_on
    description: timestamp, date and time when the user account was initially created
    tests:
    - not_null
  - name: user_updated_on
    description: timestamp, date and time when the user account was most recently
      updated
    tests:
    - not_null
  - name: user_joined_on
    description: timestamp, date and time when the user first joined the platform
    tests:
    - not_null
  - name: user_last_login
    description: timestamp, date and time when the user last logged in

- name: stg__mitlearn__app__postgres__profiles_profile
  description: MIT Learn user profile information and preferences
  columns:
  - name: profile_id
    description: int, unique identifier for each user profile on the MIT Learn platform
    tests:
    - unique
    - not_null
  - name: user_id
    description: int, foreign key to users_user representing the associated user
    tests:
    - unique
    - not_null
  - name: user_name
    description: str, display name for the user
  - name: user_bio
    description: str, biographical information or personal description provided by
      the user
  - name: user_goals
    description: array, learning goals or objectives set by the user
  - name: user_headline
    description: str, professional or personal headline displayed on the user's profile
  - name: user_location
    description: str, geographic location information provided by the user
  - name: user_delivery_preference
    description: array, preferred method of content delivery or communication
  - name: user_current_education
    description: str, current educational status or institution
  - name: user_time_commitment
    description: str, amount of time the user can commit to learning activities
  - name: user_email_optin
    description: boolean, indicating whether the user has opted in to receive email
      communications
  - name: user_toc_optin
    description: boolean, indicating whether the user has accepted terms and conditions
  - name: user_certificate_desired
    description: boolean, indicating whether the user wants to receive certificates
      upon course completion
    tests:
    - not_null
  - name: user_completed_onboarding
    description: boolean, indicating whether the user has completed the platform onboarding
      process
  - name: user_image_url
    description: str, URL to the user's profile image
  - name: user_image_small_url
    description: str, URL to a small version of the user's profile image
  - name: user_image_medium_url
    description: str, URL to a medium-sized version of the user's profile image
  - name: user_image_file
    description: str, file reference for the user's profile image
  - name: user_image_small_file
    description: str, file reference for the small version of the user's profile image
  - name: user_image_medium_file
    description: str, file reference for the medium-sized version of the user's profile
      image
  - name: profile_updated_on
    description: timestamp, date and time when the profile was most recently updated
    tests:
    - not_null

  - name: stg__mitlearn__app__postgres__learning_resources_learningresourcetopic
    description: Learning resource topics
    columns:
    - name: learningresourcetopic_id
      description: int, primary key for the learning resource topic
      tests:
      - unique
      - not_null
    - name: learningresourcetopic_name
      description: str, name of the learning resource topic
      tests:
      - not_null
    - name: learningresourcetopic_parent_id
      description: int, foreign key referencing the parent topic (if any)
    - name: learningresourcetopic_uuid
      description: str, unique identifier for the learning resource topic
      tests:
      - not_null

  - name: stg__mitlearn__app__postgres__profiles_profile_topic_interests
    description: learning resource topic interests for user profiles
    columns:
    - name: profiletopicinterests_id
      description: int, primary key for the profile topic interest record
      tests:
      - unique
      - not_null
    - name: profile_id
      description: int, foreign key referencing the user profile
      tests:
      - not_null
    - name: learningresourcetopic_id
      description: int, foreign key to the learning resource topic
      tests:
      - not_null

  - name: stg__mitlearn__app__postgres__learning_resources_search_percolatequery
    description: MIT Learn search percolate queries for content discovery
    columns:
    - name: percolatequery_id
      description: int, unique identifier for the percolate query
      tests:
      - unique
      - not_null
    - name: percolatequery_query
      description: str, the search query string used for percolating content
    - name: percolatequery_created_on
      description: timestamp, date and time when this percolate query was created
      tests:
      - not_null
    - name: percolatequery_updated_on
      description: timestamp, date and time when this percolate query was last updated
      tests:
      - not_null
    - name: percolatequery_source_type
      description: str, type or category of the source for this query
    - name: percolatequery_display_label
      description: str, human-readable label for displaying this query
    - name: percolatequery_original_query
      description: str, the original query string before any processing or modifications

  - name: stg__mitlearn__app__postgres__learning_resources_search_percolatequery_users
    description: Association table linking users to their percolate queries for personalized
      content discovery
    columns:
    - name: percolatequery_users_id
      description: int, unique identifier for the user-percolate query association
      tests:
      - unique
      - not_null
    - name: user_id
      description: int, foreign key referencing the user who is associated with the
        percolate query
      tests:
      - not_null
    - name: percolatequery_id
      description: int, foreign key referencing the percolate query associated with
        the user
      tests:
      - not_null

  - name: stg__mitlearn__app__postgres__learning_resources_userlist
    description: MIT Learn user-created lists for organizing learning resources
    columns:
    - name: userlist_id
      description: int, unique identifier for the user list
      tests:
      - unique
      - not_null
    - name: userlist_title
      description: str, title or name of the user list
    - name: userlist_author_user_id
      description: int, foreign key referencing the user who created this list
    - name: userlist_description
      description: str, description or summary of the user list content
    - name: userlist_privacy_level
      description: str, privacy setting for the list (public, private, etc.)
    - name: userlist_created_on
      description: timestamp, date and time when this user list was created
      tests:
      - not_null
    - name: userlist_updated_on
      description: timestamp, date and time when this user list was last updated
      tests:
      - not_null

  - name: stg__mitlearn__app__postgres__learning_resources_userlist_topics
    description: Association table linking user lists to learning resource topics
      for categorization and filtering
    columns:
    - name: userlisttopics_id
      description: int, unique identifier for the user list topic association
      tests:
      - unique
      - not_null
    - name: userlist_id
      description: int, foreign key referencing the user list
      tests:
      - not_null
    - name: learningresourcetopic_id
      description: int, foreign key referencing the learning resource topic
      tests:
      - not_null

  - name: stg__mitlearn__app__postgres__learning_resources_userlistrelationship
    description: Relationships between user lists, defining parent-child hierarchies
      and positioning
    columns:
    - name: userlistrelationship_id
      description: int, unique identifier for the user list relationship
      tests:
      - unique
      - not_null
    - name: userlistrelationship_child_id
      description: int, foreign key referencing the child user list in the relationship
    - name: userlistrelationship_position
      description: int, position or order of the child list within the parent list
    - name: userlistrelationship_parent_id
      description: int, foreign key referencing the parent user list in the relationship
    - name: userlistrelationship_created_on
      description: timestamp, date and time when this relationship was created
      tests:
      - not_null
    - name: userlistrelationship_updated_on
      description: timestamp, date and time when this relationship was last updated
      tests:
      - not_null
