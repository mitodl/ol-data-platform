---
version: 2

sources:
- name: ol_warehouse_raw_data
  loader: airbyte
  database: 'ol_data_lake_{{ target.name }}'
  schema: 'ol_warehouse_data_{{ target.name }}'
  tables:
  - name: raw__mitxonline__app__postgres__courses_courserunenrollment
    columns:
    - name: id
      description: int, sequential ID tracking a single user enrollment
    - name: active
      description: str, boolean describing whether the enrollment is active
    - name: run_id
      description: int, unique ID specifying a "run" of an MITx Online course
    - name: user_id
      description: int, unique ID for each user on the MITx Online platform
    - name: created_on
      description: timestamp, specifying when an enrollment was initially created
    - name: updated_on
      description: timestamp, specifying when an enrollment was most recently updated
  - name: raw__mitxonline__app__postgres__courses_courserun
    columns:
    - name: id
      description: int, sequential ID tracking a single course run
    - name: live
      description: boolean, indicating whether the course is available to users
    - name: title
      description: str, title of the course
    - name: course_id
      description: int, ID specifying a course in the courses_course table
    - name: courseware_id
      description: str, human readable ID in the format course-v1:{org}+{course code}+{run}
    - name: end_date
      description: '...'
    - name: start_date
      description: '...'
    - name: courseware_url_path
      description: str, url location for the course in MITx Online
    - name: created_on
      description: timestamp, specifying when a course run was initially created
    - name: updated_on
      description: timestamp, specifying when a course run was most recently updated
  - name: raw__mitxonline__app__postgres__users_user
    columns:
    - name: id
      description: int, sequential ID representing one user in MITx Online
    - name: username
      description: str, name chosen by user
    - name: email
      description: str, user email associated with their account
    - name: is_active
      description: boolean, ...
    - name: created_on
      description: timestamp, specifying when a user account was initially created
    - name: updated_on
      description: timestamp, specifying when a user account was most recently updated
  - name: raw__mitxonline__app__postgres__courses_course
    columns:
    - name: id
      description: int, sequential ID tracking a single MITx Online course
    - name: live
      description: boolean, indicating whether the course is available to users
    - name: title
      description: str, title of the course
    - name: program_id
      description: id, unique ID pointing to the "program" which this course is part
    - name: course_readable_id
      description: str, Open edX ID formatted as course-v1:{org}+{course code}
    - name: position_in_program
      description: int, ...
    - name: created_on
      description: timestamp, specifying when an enrollment was initially created
    - name: updated_on
      description: timestamp, specifying when an enrollment was most recently updated
