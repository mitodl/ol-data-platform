---
version: 2

sources:
- name: ol_warehouse_raw_data
  loader: airbyte
  database: '{{ target.database }}'
  schema: '{{ target.schema.replace(var("schema_suffix", ""), "").rstrip("_") }}_raw'
  tables:
  - name: raw__xpro__app__postgres__b2b_ecommerce_b2breceipt
    description: Data returned from cybersource when a user pays for a b2b order
    columns:
    - name: id
      description: int, primary key representing a b2b receipt
    - name: created_on
      description: timestamp, specifying when the b2b receipt was initially created
    - name: updated_on
      description: timestamp, specifying when the b2b receipt most recently updated
    - name: data
      description: json, cybersource data for a payment
    - name: order_id
      description: int, primary key in b2becommerce_b2border

  - name: raw__xpro__app__postgres__b2b_ecommerce_b2borderaudit
    columns:
    - name: id
      description: int, primary key representing a change to the b2borders table
    - name: created_on
      description: timestamp, specifying when the b2b order audit was initially created
    - name: updated_on
      description: timestamp, specifying when the b2b order audit was most recently
        updated
    - name: data_before
      description: json, jsonified b2b order object before the change
    - name: data_after
      description: json, jsonified b2b order object after the change
    - name: acting_user_id
      description: int, reference to users_user table, the user who made the change
    - name: order_id
      description: int, reference to b2becommerce_b2border

  - name: raw__xpro__app__postgres__b2b_ecommerce_b2border
    description: A B2B order is created when a company or other purchaser buys enrollment
      codes for many of learners through the xpro web form. This creates full price
      off coupons that learners can redeem for an enrollment
    columns:
    - name: id
      description: int, primary key representing a b2b order
    - name: created_on
      description: timestamp, specifying when the b2b order was initially created
    - name: updated_on
      description: timestamp, specifying when the b2b order was most recently updated
    - name: status
      description: string, order state. Options are "fulfilled", "failed", "created"
        "refunded"
    - name: num_seats
      description: int, number of enrollment codes that were purchased
    - name: email
      description: string, email where the enrollment codes were sent
    - name: per_item_price
      description: numeric, per item price for each enrollment code
    - name: total_price
      description: numeric, total price for the order
    - name: product_version_id
      description: int, foreign key to ecommerce_productversion. The course run or
        program for which the enrollment codes were purchased
    - name: coupon_payment_version_id
      description: int, foreign key to ecommerce_productcouponversion. The coupon
        payment version of the enrollment codes generated by this order
    - name: unique_id
      description: string, auto generated uuid used to identify the order
    - name: discount
      description: numeric, dollar discount amount for the order
    - name: coupon_id
      description: int, foreign key to b2becommerce_b2bcoupon. A coupon that was redeemed
        for the order.
    - name: contract_number
      description: string, contract number used to identify the order
    - name: program_run_id
      description: int, foreign key to courses_programrun. Set when the product is
        a program

  - name: raw__xpro__app__postgres__b2b_ecommerce_b2bcouponaudit
    columns:
    - name: id
      description: int, primary key representing a change to the b2bcoupons table
    - name: created_on
      description: timestamp, specifying when the b2bcoupon audit was initially created
    - name: updated_on
      description: timestamp, specifying when the b2bcoupon audit was most recently
        updated
    - name: data_before
      description: json, jsonified b2bcoupon object before the change
    - name: data_after
      description: json, jsonified b2bcoupon object after the change
    - name: acting_user_id
      description: int, reference to users_user table, the user who made the change
    - name: coupon_id
      description: int, reference to b2becommerce_b2bcoupon

  - name: raw__xpro__app__postgres__b2b_ecommerce_b2bcoupon
    description: B2B coupons are coupons that allow us to give a discount to companies
      buying bulk seats for their employees
    columns:
    - name: id
      description: int, primary key representing a b2b coupon
    - name: created_on
      description: timestamp, specifying when the b2b coupon was initially created
    - name: updated_on
      description: timestamp, specifying when the b2b coupon was most recently updated
    - name: name
      description: string, human readable name to indentify the b2b coupon
    - name: coupon_code
      description: string, coupon code for the coupon
    - name: discount_percent
      description: numeric, the discount percenage. Between 0 and 1
    - name: enabled
      description: boolean, whether the b2b coupon is usable
    - name: expiration_date
      description: timestamp, expiration timestamp for the b2b coupon
    - name: activation_date
      description: timestamp, activation timestamp for the b2b coupon
    - name: company_id
      description: foreign key to ecommerce_company. If no company id is set the b2b
        coupon can be used by any company
    - name: product_id
      description: int, foreign key for ecommerce_product. If no product id is set,
        the b2b coupon can be used for any product
    - name: reusable
      description: boolean, when true the coupon can be redeemed multiple times

  - name: raw__xpro__app__postgres__ecommerce_productcouponassignment
    description: Coupon assignments made through bulk coupon assignment google sheets.
      These coupons can be redeemed by users with a specific email for a specific
      product
    columns:
    - name: id
      description: int, primary key representing a coupon assignment
    - name: created_on
      description: timestamp, specifying when the coupon assignment was created
    - name: updated_on
      description: timestamp, specifying when the  coupon assignment was most recently
        updated
    - name: email
      description: string, user email that can redeem the coupon
    - name: product_coupon_id
      description: int, foreign key to ecommerce_couponeligibility, which has a coupon
        and product pair
    - name: redeemed
      description: boolean, whether the user redeemed the coupon to enroll in the
        course
    - name: bulk_assignment_id
      description: int, foreign key to ecommerce_bulkcouponassignment
    - name: message_status
      description: string, email message status. One of  "delivered", "failed", "opened",
        "clicked"
    - name: message_status_date
      description: timestamp, timestamp when the message status was last updated
    - name: original_email
      description: string, original email for the record, used when the email for
        a coupon needs to change

  - name: raw__xpro__app__postgres__ecommerce_bulkcouponassignment
    description: xPro has functionality for companies to assign coupons codes ( full
      price vouchers) to employees through a google drive sheet. People that get a
      coupon recieve an email with their coupon code and enrollment instructions.
      This table controls that functionality.
    columns:
    - name: id
      description: int, primary key representing a bulk coupon assignment sheet
    - name: created_on
      description: timestamp, specifying when the bulk coupon assignment sheet record
        was created
    - name: updated_on
      description: timestamp, specifying when the bulk coupon assignment sheet record
        was most recently updated
    - name: assignment_sheet_id
      description: string, google drive id for the sheet used to make the assignments
    - name: assignments_started_date
      description: timestamp, timestamp when we started assigning coupons and sending
        emails to the email addresses in the sheet
    - name: message_delivery_completed_date
      description: timestamp, timestamp when all the emails with enrollment coupons
        have been sent
    - name: sheet_last_modified_date
      description: timestamp, timestamp when the google spreadsheet used for coupon
        assignments was last modified
    - name: last_assignment_date
      description: timestamp, timestamp when a coupon was last assigned to a user
        on the list

  - name: raw__xpro__app__postgres__ecommerce_couponselection
    description: A row in this table is added when a coupon code is added to the users
      basket for a course or product they have not yet purchased
    columns:
    - name: id
      description: int, primary key representing a coupon selection
    - name: created_on
      description: timestamp, specifying when the coupon was added to the basket
    - name: updated_on
      description: timestamp, specifying when the coupon selection was updated most
        recently updated
    - name: coupon_id
      description: int, foreign key for ecommerce_coupon
    - name: basket_id
      description: int, foreign key for ecommerce_basket

  - name: raw__xpro__app__postgres__ecommerce_couponredemption
    description: A row in this table is added when an order uses a coupon code
    columns:
    - name: id
      description: int, primary key representing a coupon redemption
    - name: created_on
      description: timestamp, specifying when the coupon was redeemed
    - name: updated_on
      description: timestamp, specifying when the coupon redemption was updated most
        recently updated
    - name: coupon_version_id
      description: int, foreign key for ecommerce_couponversion
    - name: order_id
      description: int, foreign key for ecommerce_order

  - name: raw__xpro__app__postgres__ecommerce_couponeligibility
    description: This table is used to limit coupons to a specific product. Coupons
      which do not have a record in this table are redeemable for all products
    columns:
    - name: id
      description: int, primary key representing a coupon product combo
    - name: created_on
      description: timestamp, specifying when the coupon product association was initially
        created
    - name: updated_on
      description: timestamp, specifying when the coupon product association was most
        recently updated
    - name: coupon_id
      description: int, foreign key for ecommerce_coupon
    - name: product_id
      description: int, foreign key for ecommerce_product
    - name: program_run_id
      description: int, foreign key for courses_programrun, may be set when the product
        type is a program

  - name: raw__xpro__app__postgres__ecommerce_company
    description: A company that purchases bulk enrollments to xpro courses or programs
    columns:
    - name: id
      description: int, primary key representing a company
    - name: created_on
      description: timestamp, specifying when the company record was initially created
    - name: updated_on
      description: timestamp, specifying when the company record was most recently
        updated
    - name: name
      description: string, company name

  - name: raw__xpro__app__postgres__ecommerce_couponpaymentversion
    description: The ecommerce_couponpaymentversion holds information about a batch
      of coupons. A coupon payment version has information about the dollar or percentage
      amount of the discount, the number of available coupons that can be used to
      redeem the discount, how many times they can be redeemed and the source of the
      coupons. Coupon groups can be generated internally, for example to allow staff
      to enroll in courses without paying or marketing to create promos that allow
      learners to take a percentage or dollar amount off the full course price. Other
      coupon groups are created when a company buys bulk seats in a course for their
      employees, which generates a batch of 100% off coupons that learners can use
      to enroll in a course or program.
    columns:
    - name: id
      description: int, primary key representing a coupon payment version
    - name: created_on
      description: timestamp, specifying when the coupon payment version was initially
        created
    - name: updated_on
      description: timestamp, specifying when the coupon paymemt  version was most
        recently updated
    - name: coupon_type
      description: string, one of 'single-use' or 'promo'.
    - name: num_coupon_codes
      description: int, number of coupon (and coupon version) objects associated with
        the payment version
    - name: max_redemptions
      description: int, maximum number of redemptions for the coupon payment version
    - name: max_redemptions_per_user
      description: int, maximum number of redemptions per user for the coupon payment
        version
    - name: amount
      description: number, either dollar amount or percentage (between 0 and 1) discount
    - name: expiration_date
      description: timestamp, expiration timestamp for the coupon payment version
    - name: activation_date
      description: timestamp, activation timestamp for the coupon payment version
    - name: automatic
      description: boolean, whether the coupon should be automatically applied to
        eligible orders
    - name: payment_type
      description: string, one of "credit_card", "purchase_order", "marketing, "sales",
        "staff". "staff" coupons are used to allow staff to enroll in courses. "marketing"
        coupons are promos for discounts generated by marketing. "credit_card", "purchase_order"
        and "sales" correspond to different ways that companies can pay for vouchers
        for their employees to enroll in courses or programs
    - name: payment_transaction
      description: string, string that identifies the payment invoice for coupon purchases
        by companies
    - name: tag
      description: string, optional string tag used to identify the coupon payment
        version
    - name: company_id
      description: foreign key is ecommerce_company
    - name: payment_id
      description: int, foreign key to ecommerce_couponpayment
    - name: discount_type
      description: one of percent-off or dollars-off

  - name: raw__xpro__app__postgres__ecommerce_couponpayment
    description: Most of the information for coupon payments is in couponpaymentversion
    columns:
    - name: id
      description: int, primary key representing a coupon payment
    - name: created_on
      description: timestamp, specifying when the coupon payment was initially created
    - name: updated_on
      description: timestamp, specifying when the coupon paymemt was most recently
        updated
    - name: name
      description: string, human readable name for the coupon payment

  - name: raw__xpro__app__postgres__ecommerce_couponversion
    description: A version of a coupon linked to a specific couponpaymentversion record
    columns:
    - name: id
      description: int, primary key representing a coupon version
    - name: created_on
      description: timestamp, specifying when the coupon version was initially created
    - name: updated_on
      description: timestamp, specifying when the coupon version was most recently
        updated
    - name: coupon_id
      description: int, foreign key referencing ecommerce_coupon
    - name: payment_version_id
      description: int, foreign key to ecommerce_paymentversion

  - name: raw__xpro__app__postgres__ecommerce_coupon
    description: A coupon code that can be used to recieve a discount on a course
      or program
    columns:
    - name: id
      description: int, primary key representing a coupon
    - name: created_on
      description: timestamp, specifying when the coupon was initially created
    - name: updated_on
      description: timestamp, specifying when the coupon was most recently updated
    - name: coupon_code
      description: string, coupon code for the coupon
    - name: payment_id
      description: int, foreign key to ecommerce_payment
    - name: enabled
      description: boolean, whethere or not the coupon is currently active
    - name: include_future_runs
      description: boolean, if true the coupon is automatically enabled for future
        runs of the product the coupon is associated with
    - name: is_global
      description: boolean, if true the coupon is valid for all products

  - name: raw__xpro__app__postgres__ecommerce_orderaudit
    columns:
    - name: id
      description: int, primary key representing a change to the orders table
    - name: created_on
      description: timestamp, specifying when the order audit was initially created
    - name: updated_on
      description: timestamp, specifying when the order audit was most recently updated
    - name: data_before
      description: json, jsonified order object before the change
    - name: data_after
      description: json, jsonified order object after the change
    - name: acting_user_id
      description: int, reference to users_user table, the user who made the change
    - name: order_id
      description: int, reference to ecommerce_order

  - name: raw__xpro__app__postgres__ecommerce_courserunselection
    description: The course runs the user selected for the basket items in their basket.
      If the basket item is a course run, there is one ecommerce_courserunselection
      record. If the basket item  is a program, there will be a record for each course
      run from the program that is selected by the user. Once the user completes the
      purchase, these records become records in ecommerce_linerunselection
    columns:
    - name: id
      description: int, primary key representing a basket course run selection
    - name: created_on
      description: timestamp, specifying when the basket course run selection was
        initially created
    - name: updated_on
      description: timestamp, specifying when the basket course run selection was
        most recently updated
    - name: run_id
      description: int, primary key in courses_courserun
    - name: basket_id
      description: int, primary key in ecommerce_basket

  - name: raw__xpro__app__postgres__ecommerce_basketitem
    description: The ecommerce_products that the user has in their basket but has
      not purchased yet
    columns:
    - name: id
      description: int, primary key representing a item in a user's basket
    - name: created_on
      description: timestamp, specifying when the basket item was initially created
    - name: updated_on
      description: timestamp, specifying when the basket item was most recently updated
    - name: quantity
      description: int, quantitiy of the item. Always 1
    - name: basket_id
      description: int, foreign key referencing ecommerce_basket
    - name: product_id
      description: int, foreign key referencing ecommerce_product
    - name: program_run_id
      description: int, foreign key referencing courses_programrun, present if the
        product is a program

  - name: raw__xpro__app__postgres__ecommerce_basket
    columns:
    - name: id
      description: int, primary key representing a user basket
    - name: created_on
      description: timestamp, specifying when the basket was initially created
    - name: updated_on
      description: timestamp, specifying when the basket was most recently updated
    - name: user_id
      description: int, foreign key to the users_user table

  - name: raw__xpro__app__postgres__ecommerce_receipt
    description: Data returned from cybersource when a user pays for an order
    columns:
    - name: id
      description: int, primary key representing a receipt
    - name: created_on
      description: timestamp, specifying when the receipt was initially created
    - name: updated_on
      description: timestamp, specifying when the receipt most recently updated
    - name: data
      description: json, cybersource data for a payment
    - name: order_id
      description: int, primary key in ecommerce_order

  - name: raw__xpro__app__postgres__ecommerce_programrunline
    description: The program run the user selected when purchsing a program.
    columns:
    - name: id
      description: int, primary key representing a line program run selection
    - name: created_on
      description: timestamp, specifying when the line program run selection was initially
        created
    - name: updated_on
      description: timestamp, specifying when the line program run selection was most
        recently updated
    - name: program_run_id
      description: int, primary key in courses_programrun
    - name: line_id
      description: int, primary key in ecommerce_line

  - name: raw__xpro__app__postgres__ecommerce_linerunselection
    description: The course runs the user selected when purchsing the courseware object.
      If the courseware object is a course run, there is one ecommerce_line_run_selection
      record. If the courseware object is a program, there will be a record for each
      course run from the program that is selected by the user
    columns:
    - name: id
      description: int, primary key representing a line run selection
    - name: created_on
      description: timestamp, specifying when the line run selection was initially
        created
    - name: updated_on
      description: timestamp, specifying when the line run selection was most recently
        updated
    - name: run_id
      description: int, primary key in courses_courserun
    - name: line_id
      description: int, primary key in ecommerce_line

  - name: raw__xpro__app__postgres__django_content_type
    columns:
    - name: id
      description: int, sequential ID for the django model
    - name: model
      description: string, the name of the django model
    - name: app_label
      description: string, the  functional group the model belongs to

  - name: raw__xpro__app__postgres__ecommerce_product
    columns:
    - name: id
      description: int, primary key representing an ecommerce product
    - name: created_on
      description: timestamp, specifying when the product was initially created
    - name: updated_on
      description: timestamp, specifying when the product was most recently updated
    - name: content_type_id
      description: int, primary key in django_contenttype of the courseware. It is
        the key for courses_courserun or courses_program in production. There is a
        record where the courseware is courses_course on rc
    - name: object_id
      description: int, primary key in either courses_courserun or courses_program
        table of the courseware
    - name: is_active
      description: boolean, whether or not the product is currently purchasable
    - name: visible_in_bulk_form
      description: boolean, whether or not the product is purchasable through the
        bulk form at /ecommerce/bulk

  - name: raw__xpro__app__postgres__ecommerce_productversion
    columns:
    - name: id
      description: int, primary key representing an ecommerce product version
    - name: created_on
      description: timestamp, specifying when the product version was initially created
    - name: updated_on
      description: timestamp, specifying when the product version was most recently
        updated
    - name: price
      description: numeric, the product price for this version
    - name: description
      description: string, product version discriptiom
    - name: product_id
      description: int, primary key in ecommerce_product
    - name: text_id
      description: string, the readable_id field from the product object
    - name: requires_enrollment_code
      description: boolean, true if the learner is required to enter an enrollment
        code to enroll in the course or program at the checkout

  - name: raw__xpro__app__postgres__ecommerce_line
    columns:
    - name: id
      description: int, primary key representing an ecommerce line
    - name: created_on
      description: timestamp, specifying when the line was initially created
    - name: updated_on
      description: timestamp, specifying when the line was most recently updated
    - name: quantity
      description: int, quantitiy ordered, currently always 1
    - name: order_id
      description: int, foreign key in the orders_order table for the order that contains
        the line
    - name: product_version_id
      description: int stored as string, foreign key in the ecommerce_productversion
        table. Versioned product

  - name: raw__xpro__app__postgres__ecommerce_order
    columns:
    - name: id
      description: int, primary key representing a single xpro order
    - name: created_on
      description: timestamp, specifying when the order was initially created
    - name: updated_on
      description: timestamp, specifying when the order was most recently updated
    - name: status
      description: string, order state. Options are "fulfilled", "failed", "created"
        "refunded"
    - name: total_price_paid
      description: number, total order amount
    - name: purchaser_id
      description: int, primary key in users_user for the purchaser

  - name: raw__xpro__app__postgres__courses_courserunenrollment
    freshness:
      warn_after: {count: 2, period: day}
      error_after: {count: 3, period: day}
    loaded_at_field: "from_iso8601_timestamp(created_on)"
    columns:
    - name: id
      description: int, sequential ID tracking a single user enrollment
    - name: created_on
      description: timestamp, specifying when an enrollment was initially created
    - name: updated_on
      description: timestamp, specifying when an enrollment was most recently updated
    - name: change_status
      description: str, enrollment status for users whose enrollment is no longer
        active. Options are 'deferred', 'transferred', 'refunded', 'unenrolled'
    - name: active
      description: boolean, indicating whether the user is still enrolled in the run
    - name: edx_enrolled
      description: boolean, indicating whether the user is enrolled on edx
    - name: run_id
      description: int, unique ID specifying a "run" of an xPro course
    - name: user_id
      description: int, unique ID for each user on the xPro platform
    - name: order_id
      description: int, id of order associated with the payment for the enrollment
    - name: company_id
      description: int, id of the company associated with the payment for the enrollment
        for enrollments that are made through bulk purchases by companies

  - name: raw__xpro__app__postgres__courses_programenrollment
    columns:
    - name: id
      description: int, sequential ID tracking a single user enrollment
    - name: created_on
      description: timestamp, specifying when an enrollment was initially created
    - name: updated_on
      description: timestamp, specifying when an enrollment was most recently updated
    - name: change_status
      description: str, enrollment status for users whose enrollment is no longer
        active. Options are 'deferred', 'transferred', 'refunded', 'unenrolled'
    - name: active
      description: boolean, indicating whether the user is still enrolled in the program
    - name: program_id
      description: int, foreign key from the courses_program table
    - name: user_id
      description: int, unique ID for each user on the xPro platform
    - name: order_id
      description: int, id of order associated with the payment for the enrollment
    - name: company_id
      description: int, id of the company associated with the payment for the enrollment
        for enrollments that are made through bulk purchases by companies

  - name: raw__xpro__app__postgres__courses_program
    columns:
    - name: id
      description: int, primary key representing a single MITxPro program
    - name: live
      description: boolean, indicating whether the program is available to users on
        MITxPro website
    - name: title
      description: str, title of the program
    - name: readable_id
      description: str, Open edX ID formatted as program-v1:{org}+{program code} e.g.
        program-v1:xPRO+MLx
    - name: created_on
      description: timestamp, specifying when a program was initially created
    - name: updated_on
      description: timestamp, specifying when a program was most recently updated
    - name: is_external
      description: boolean, whether the program is on an external platform

  - name: raw__xpro__app__postgres__courses_programrun
    columns:
    - name: id
      description: int, primary key representing a single MITxPro program run
    - name: program_id
      description: int, foreign key to courses_program representing a single MITxPro
        program
    - name: run_tag
      description: str, string that identifies a single run for a program e.g. R0
    - name: start_date
      description: timestamp, specifying when the program run begins
    - name: end_date
      description: timestamp, specifying when the program run ends
    - name: created_on
      description: timestamp, specifying when the program run was initially created
    - name: updated_on
      description: timestamp, specifying when the program run was most recently updated

  - name: raw__xpro__app__postgres__courses_course
    description: Source table for MITxPro courses
    columns:
    - name: id
      description: int, primary key representing a single MITxPro course
    - name: live
      description: boolean, indicating whether the course is available to users on
        MITxPro website
    - name: title
      description: str, title of the course
    - name: program_id
      description: id, foreign key to courses_program
    - name: readable_id
      description: str, Open edX ID formatted as course-v1:{org}+{course code} e.g.
        course-v1:xPRO+MLx2
    - name: position_in_program
      description: int, sequential number indicating the course display order in a
        program on MITxPro website
    - name: is_external
      description: boolean, whether the course is on an external platform
    - name: created_on
      description: timestamp, specifying when a course was initially created
    - name: updated_on
      description: timestamp, specifying when a course was most recently updated

  - name: raw__xpro__app__postgres__courses_courserun
    description: Source table for MITxPro course runs
    columns:
    - name: id
      description: int, primary key representing a single MITxPro course run
    - name: live
      description: boolean, indicating whether the course run is available to users
        on MITxPro website
    - name: title
      description: str, title of the course run
    - name: run_tag
      description: str,string that identifies a single run for a course e.g. R0
    - name: course_id
      description: int, foreign key to courses_course representing a single MITxPro
        course
    - name: courseware_id
      description: str, Open edX Course ID formatted as course-v1:{org}+{course code}+{run_tag}
        e.g. course-v1:xPRO+MLx1+R0
    - name: courseware_url_path
      description: str, url location for the course run on MITxPro website
    - name: start_date
      description: timestamp, specifying when the course begins
    - name: end_date
      description: timestamp, specifying when the course ends
    - name: enrollment_start
      description: timestamp, specifying when enrollment starts
    - name: enrollment_end
      description: timestamp, specifying when enrollment ends
    - name: expiration_date
      description: timestamp, specifying the date time beyond which users should not
        see link to this course run on their dashboard
    - name: created_on
      description: timestamp, specifying when a course run was initially created
    - name: updated_on
      description: timestamp, specifying when a course run was most recently updated
  - name: raw__xpro__app__postgres__courses_courserungrade
    columns:
    - name: id
      description: int, primary key representing a single MIT xPro grade record
    - name: course_run_id
      description: int, foreign key to courses_courserun representing a single course
        run
    - name: user_id
      description: str, foreign key to users_user representing a single user
    - name: grade
      description: float, user's grade for the course (range between 0.0 to 1.0)
    - name: letter_grade
      description: str, letter grade defined ib edX grading policy (value may be 'A',
        'B', 'C', 'D', 'Pass', none)
    - name: set_by_admin
      description: boolean, indicating whether this grade is set by a staff user
    - name: passed
      description: boolean, indicating whether the user has passed the minimum passing
        score set for this course
    - name: created_on
      description: timestamp, specifying when a grade was initially created
    - name: updated_on
      description: timestamp, specifying when a grade was most recently updated

  - name: raw__xpro__app__postgres__courses_courseruncertificate
    columns:
    - name: id
      description: int, primary key representing a single MIT xPro course certificate
        record
    - name: uuid
      description: str, unique identifier for the certificate
    - name: course_run_id
      description: int, foreign key to courses_courserun representing a single course
        run
    - name: user_id
      description: str, foreign key to users_user representing a single user
    - name: certificate_page_revision_id
      description: int, foreign key to wagtailcore_pagerevision (could be blank)
    - name: created_on
      description: timestamp, specifying when a certificate was initially created
    - name: updated_on
      description: timestamp, specifying when a certificate was most recently updated
    - name: is_revoked
      description: boolean, indicating whether the certificate is revoked and invalid

  - name: raw__xpro__app__postgres__courses_programcertificate
    columns:
    - name: id
      description: int, primary key representing a single MIT xPro program certificate
        record
    - name: uuid
      description: str, unique identifier for the program certificate
    - name: program_id
      description: int, foreign key to courses_program representing a single program
    - name: user_id
      description: str, foreign key to users_user representing a single user
    - name: certificate_page_revision_id
      description: int, foreign key to wagtailcore_pagerevision (could be blank)
    - name: created_on
      description: timestamp, specifying when a certificate was initially created
    - name: updated_on
      description: timestamp, specifying when a certificate was most recently updated
    - name: is_revoked
      description: boolean, indicating whether the certificate is revoked and invalid

  - name: raw__xpro__app__postgres__courses_coursetopic
    columns:
    - name: id
      description: int, primary key representing a single MITxPro course topic
    - name: name
      description: str, name of a course topic
    - name: created_on
      description: timestamp, specifying when a course topic was initially created
    - name: updated_on
      description: timestamp, specifying when a course topic was most recently updated
    - name: parent_id
      description: int, id for the parent coursetopic for subtopics. For example 'Technology'
        is the parent topic for 'Technology:Data Science'

  - name: raw__xpro__app__postgres__users_user
    columns:
    - name: id
      description: int, sequential ID representing one user in xPro
    - name: password
      description: str, hashed password
    - name: username
      description: str, name chosen by user
    - name: email
      description: str, user email associated with their account
    - name: name
      description: str, the user's full name
    - name: is_active
      description: boolean, used to soft delete users
    - name: created_on
      description: timestamp, specifying when a user account was initially created
    - name: updated_on
      description: timestamp, specifying when a user account was most recently updated
    - name: last_login
      description: timestamp, user's last login
    - name: is_staff
      description: boolean, used for app permissions
    - name: is_superuser
      description: boolean, used for app permissions

  - name: raw__xpro__app__postgres__users_legaladdress
    columns:
    - name: id
      description: int, primary key for table
    - name: country
      description: string, user country code
    - name: user_id
      description: int, foreign key to users_user
    - name: last_name
      description: string, user last name
    - name: created_on
      description: timestamp, when the record was created
    - name: first_name
      description: string, user first name
    - name: updated_on
      description: timestamp, when the record was updated
    - name: street_address_1
      description: string, first line of street address
    - name: street_address_2
      description: string, second line of street address
    - name: street_address_3
      description: string, third line of street address
    - name: street_address_4
      description: string, fourth line of street address
    - name: street_address_5
      description: string, fifth line of street address
    - name: city
      description: string, city
    - name: state_or_territory
      description: string, state or territory
    - name: postal_code
      description: string, postal code

  - name: raw__xpro__app__postgres__users_profile
    columns:
    - name: id
      description: int, sequential ID
    - name: created_on
      description: timestamp, specifying when the row was initially created
    - name: updated_on
      description: timestamp, specifying when the row was most recently updated
    - name: gender
      description: str, one of  "m", "f" or "o" to encode "Male" , "Female", "Other/Prefer
        not to say". May be blank
    - name: birth_year
      description: int, user birth year
    - name: company
      description: str, user company
    - name: job_title
      description: str, user job title
    - name: industry
      description: str, user job industry
    - name: job_function
      description: str, user job function
    - name: company_size
      description: int, encodes company size choices are 1 - "Small/Start-up (1+ employees)",
        9 - "Small/Home office (1-9 employees)", 99 - "Small (10-99 employees)", 999
        - "Small to medium-sized (100-999 employees)", 9999 - "Medium-sized (1000-9999
        employees)", 10000 - "Large Enterprise (10,000+ employees)", 0 - "Other (N/A
        or Don't know)" may be null
    - name: years_experience
      description: int, encodes user years experience choices are; 2 - "Less than
        2 years", 5 - "2-5 years", 10 - "6 - 10 years", 15 - "11 - 15 years", 20 -
        "16 - 20 years", 21 - "More than 20 years", 0 - "Prefer not to say", may be
        null
    - name: leadership_level
      description: str, user leadership level
    - name: user_id
      description: int, unique ID for each user on the xPro platform
    - name: highest_education
      description: str, choices are "Doctorate", "Master's or professional degree",
        "Bachelor's degree", "Associate degree", "Secondary/high school", "Junior
        secondary/junior high/middle school", "Elementary/primary school", "No formal
        education", "Other education"

  - name: raw__xpro__openedx__tracking_logs
    description: MIT xPro Open edX event data that are emitted by server, the browser,
      or the mobile device to capture information about user's interactions with a
      course
    columns:
    - name: username
      description: str, username of the open edX user who caused the event to be emitted.
        Some events are recorded with a blank username. This can occur when a user
        logs out, or the login session times out, while a browser window remains open.
        EdX recommends to ignore these events.
    - name: context
      description: object, it includes member fields that provide contextual information.
        Common fields apply to all events are course_id, org_id, path, user_id. Other
        member fields for applicable events are course_user_tags, module.
    - name: event_source
      description: str, specifies the source of the interaction that triggered the
        event. The values are - browser, mobile, server, task
    - name: event_type
      description: str, type of event triggered. Values depend on event_source.
    - name: name
      description: str, type of event triggered. When this field is present for an
        event, it supersedes the event_type field.
    - name: event
      description: object, it includes member fields that identify specifics of each
        triggered event. Different member fields are supplied for different events.
    - name: page
      description: str, url of the page the user was visiting when the event was emitted.
    - name: session
      description: str, 32-character value to identify the user’s session. All browser
        events and the server 'enrollment' events include a session value. Other server
        events and mobile events do not include a session value.
    - name: ip
      description: str, IP address of the user who triggered the event. Empty for
        mobile events.
    - name: host
      description: str, the site visited by the user. e.g. courses.xpro.mit.edu
    - name: time
      description: str, time at which the event was emitted. It has inconsistent formats
        due to log collector switches, YYYY-MM-DD HH:mm:ss.SSSSSS for older records,
        YYYY-MM-ddTHH:mm:ss.SSSSSS for newer records
    - name: agent
      description: str, browser agent string of the user who triggered the event.
    - name: accept_language
      description: str, value from the HTTP Accept-Language request-header field
    - name: referer
      description: str, URI from the HTTP Referer request-header field
    - name: log_file
      description: str, internal used field for log file location
    - name: _ab_source_file_url
      description: str, url path for the raw log file
    - name: vector_timestamp
      description: str, time when Vector processed this record. Blank for old records.
    - name: environment
      description: str, internal used field to indicate environment for the event.
        e.g. xpro-production
  - name: raw__xpro__app__postgres__cms_certificatepage
    columns:
    - name: page_ptr_id
      description: int, wagtailcore_page record corresponding to the certificate page
    - name: product_name
      description: str, name of product associated with the certificate
    - name: CEUs
      description: str, number continuing education units that are earned with the
        certificate. Text input that is generally a number
    - name: signatories
      description: str, Array of json stored as a string list of signatories for the
        certificate format
    - name: overrides
      description: str, array of json stored as string. Overrides for cms_certificate_page
        field for specific program/course runs.
    - name: institute_text
      description: str, text of certificate issuing institute displayed on the page
    - name: partner_logo_id
      description: int, primary key of partner institution log in wagtailimages_image
    - name: partner_logo_placement
      description: int, placement of parter institution's logo relative to mit logo.
        1 = first 2 = second

  - name: raw__xpro__app__postgres__cms_coursepage
    columns:
    - name: page_ptr_id
      description: int, wagtailcore_page record corresponding to the course page
    - name: description
      description: str, the description displayed on the page
    - name: content
      description: json, currently always a blank array
    - name: course_id
      description: int, primary key for the course in the courses_course table
    - name: thumbnail_image_id
      description: int, primary key of the thumbnail image in wagtailimages_image
    - name: duration
      description: str, a short description indicating how long the course takes to
        complete (e.g. '4 weeks')
    - name: background_image_id
      description: int, primary key of the background image in wagtailimages_image
    - name: video_url
      description: str, URL to the video to be displayed for this course. It can be
        an HLS or Youtube video URL
    - name: video_title
      description: str, title to be displayed for the course video
    - name: subhead
      description: str, short subheading to appear below the title on the course page
    - name: time_commitment
      description: str, short description indicating about the time commitments
    - name: background_video_url
      description: str, currently blank for all courses
    - name: search_image_id
      description: int, int, primary key of search image in wagtailimages_image
    - name: featured
      description: boolean, when checked, product will be shown as featured. currenly
        always false for courses
    - name: catalog_details
      description: str, the description shown on the catalog page for this product
    - name: external_marketing_url
      description: str, currenly always blank
  - name: raw__xpro__app__postgres__cms_externalcoursepage
    description: Course page for external courses. Not reliable for determining if
      the course is external. Some external courses have a regular course page
    columns:
    - name: page_ptr_id
      description: int, wagtailcore_page record corresponding to the course page
    - name: description
      description: str, the description displayed on the page
    - name: content
      description: json, currently always a blank array
    - name: course_id
      description: int, primary key for the course in the courses_course table
    - name: thumbnail_image_id
      description: int, primary key of the thumbnail image in wagtailimages_image
    - name: duration
      description: str, a short description indicating how long the course takes to
        complete (e.g. '4 weeks')
    - name: background_image_id
      description: int, primary key of the backgound image in wagtailimages_image
    - name: video_url
      description: str, URL to the video to be displayed for this course. It can be
        an HLS or Youtube video URL
    - name: video_title
      description: str, title to be displayed for the course video
    - name: subhead
      description: str, short subheading to appear below the title on the course page
    - name: time_commitment
      description: str, short description indicating about the time commitments
    - name: background_video_url
      description: str, currently blank for all courses
    - name: search_image_id
      description: int, int, primary key of search image in wagtailimages_image
    - name: featured
      description: boolean, when checked, product will be shown as featured. currenly
        always false for courses
    - name: catalog_details
      description: str, the description shown on the catalog page for this product
    - name: external_marketing_url
      description: str,  the URL of the external program web page
  - name: raw__xpro__app__postgres__cms_coursepage_topics
    columns:
    - name: id
      description: int, int primary key for this table
    - name: coursepage_id
      description: int, page_ptr_id of cms_coursepage
    - name: coursetopic_id
      description: int, primary key in courses_coursetopic

  - name: raw__xpro__app__postgres__cms_externalcoursepage_topics
    description: topics for external courses. Some external courses have a regular
      course page and topics in coursepage_topics
    columns:
    - name: id
      description: int, int primary key for this table
    - name: externalcoursepage_id
      description: int, page_ptr_id of cms_externalcoursepage
    - name: coursetopic_id
      description: int, primary key in courses_coursetopic

  - name: raw__xpro__app__postgres__wagtailcore_page
    description: There is a record in this table for each record in cms_ tables. page_ptr_id
      refers to the primary key in this table
    columns:
    - name: id
      description: int, int primary key for this table.
    - name: path
      description: str, the full materialized path for each node (readonly) e.g. 0001
        is root path, 00010001 is the path to a node in this requirement tree
    - name: depth
      description: int, depth of a node in the tree. A root node has a depth of 1.
    - name: numchild
      description: int, the number of children of a node
    - name: title
      description: str, human-readable title of the page
    - name: slug
      description: str, this is used for constructing the page’s URL.
    - name: live
      description: boolean, if set to true this page is published
    - name: has_unpublished_changes
      description: boolean, set to True when the page is either in draft or published
        with draft changes.
    - name: seo_title
      description: str, alternate SEO-crafted title, for use in the page’s <title>
        HTML tag.
    - name: url_path
      description: str, url path for the page
    - name: show_in_menus
      description: boolean, toggles whether the page should be included in site-wide
        menus
    - name: search_description
      description: str, SEO-crafted description of the content, used for search indexing.
        This is also suitable for the page’s <meta name="description"> HTML tag.
    - name: go_live_at
      description: timestamp, timestamp for when the page is scheduled to go live
    - name: expire_at
      description: timestamp, timestamp for when the page is scheduled to be expired.
        This functionality is not used by xpro
    - name: expired
      description: boolean, whether the page has expired. This functionality is not
        used by xpro
    - name: content_type_id
      description: int, primary key in django_contenttype. The cms_ table of that
        has data for this page
    - name: owner_id
      description: int, primary key in users_user of the page owner
    - name: locked
      description: boolean, when set to True, the Wagtail editor will not allow any
        users to edit the content of the page. This functionality is not used by xpro
    - name: latest_revision_created_at
      description: timestamp, timestamp of the page's latest revision
    - name: first_published_at
      description: timestamp, timestamp when the page was first published
    - name: live_revision_id
      description: int, primary key in wagtailcore_pagerevision of the page's latest
        revision
    - name: last_published_at
      description: timestamp, timestamp when the page was last published
    - name: draft_title
      description: str, human-readable title of the page, incorporating any changes
        that have been made in a draft edit (in contrast to the title field, which
        for published pages will be the title as it exists in the current published
        version).
    - name: locked_at
      description: timestamp, timestamp when the page was locked. This functionality
        is not used by xpro
    - name: locked_by_id
      description: int, primary key in users_user of the user that locked the page.
        This functionality is not used by xpro
    - name: translation_key
      description: uuid, A UUID that is shared between translations of a page. These
        are randomly generated when a new page is created and copied when a translation
        of a page is made.
    - name: locale_id
      description: int, primary key in wagtailcore_locale of the language code for
        the page. Currently always en (english) for xpro
    - name: alias_of_id
      description: int, always blank in xpro
  - name: raw__xpro__app__postgres__wagtailcore_pagerevision
    description: There is a record in this table for each revision of a wagtail page
    columns:
    - name: id
      description: int, int primary key for this table.
    - name: submitted_for_moderation
      description: boolean, always blank in xpro
    - name: created_at
      description: timestamp, timestamp when the revision was created
    - name: content_json
      description: json, json of the page data
    - name: approved_go_live_at
      description: timestamp, always blank in xpro
    - name: page_id
      description: int, primary key in wagtail_page
    - name: user_id
      description: int, primary key in users_user of the author


  - name: raw__xpro__app__postgres__cms_programpage
    columns:
    - name: page_ptr_id
      description: int, wagtailcore_page record corresponding to the program page
    - name: description
      description: str, the description displayed on the page
    - name: content
      description: json, currently always a blank array
    - name: program_id
      description: int, primary key for the program in the courses_program table
    - name: thumbnail_image_id
      description: int, primary key of the thumbnail image in wagtailimages_image
    - name: duration
      description: str, a short description indicating how long the program takes
        to complete (e.g. '4 weeks')
    - name: background_image_id
      description: int, primary key of the background image in wagtailimages_image
    - name: video_url
      description: str, URL to the video to be displayed for this program. It can
        be an HLS or Youtube video URL
    - name: video_title
      description: str, title to be displayed for the program video
    - name: subhead
      description: str, short subheading to appear below the title on the program
        page
    - name: time_commitment
      description: str, short description indicating about the time commitments
    - name: background_video_url
      description: str, currently blank for all programs
    - name: search_image_id
      description: int, primary key of search image in wagtailimages_image
    - name: featured
      description: boolean, when checked, product will be shown as featured
    - name: catalog_details
      description: str, the description shown on the catalog page for this product
    - name: external_marketing_url
      description: str, the URL of the external program web page.
  - name: raw__xpro__app__postgres__cms_externalprogrampage
    description: External programs. Not reliable to determine if the program is external.
      Some external programs have a regular program page
    columns:
    - name: page_ptr_id
      description: int, wagtailcore_page record corresponding to the program page
    - name: description
      description: str, the description displayed on the page
    - name: content
      description: json, currently always a blank array
    - name: program_id
      description: int, primary key for the program in the courses_program table
    - name: thumbnail_image_id
      description: int, primary key of the thumbnail image in wagtailimages_image
    - name: duration
      description: str, a short description indicating how long the program takes
        to complete (e.g. '4 weeks')
    - name: background_image_id
      description: int, primary key of the background image in wagtailimages_image
    - name: video_url
      description: str, URL to the video to be displayed for this program. It can
        be an HLS or Youtube video URL
    - name: video_title
      description: str, title to be displayed for the program video
    - name: subhead
      description: str, short subheading to appear below the title on the program
        page
    - name: time_commitment
      description: str, short description indicating about the time commitments
    - name: background_video_url
      description: str, currently blank for all programs
    - name: search_image_id
      description: int, int, primary key of search image in wagtailimages_image
    - name: featured
      description: boolean, when checked, product will be shown as featured
    - name: catalog_details
      description: str, the description shown on the catalog page for this product
    - name: external_marketing_url
      description: str, the URL of the external program web page.

  - name: raw__xpro__app__postgres__cms_coursesinprogrampage
    description: This table contains 1) Lists of courses in programs 2) Additional
      lists - for example upcoming courses and programs The type of list can be determined
      by the parent page of the record using the path in wagtailcore_page
    columns:
    - name: page_ptr_id
      description: int, wagtailcore_page record corresponding to the courses in program
        page
    - name: heading
      description: str, the heading displayed on the page
    - name: body
      description: str, the body displayed on the page
    - name: contents
      description: json, json with the page_ptr_ids of cms_coursepage, cms_externalcoursepage
        , cms_cprogrampage, cms_externalprogrampage
    - name: override_contents
      description: boolean, whether the contents was set manually

  - name: raw__xpro__app__postgres__cms_signatorypage
    description: This table contains signatories for certificates
    columns:
    - name: page_ptr_id
      description: int, wagtailcore_page record corresponding to the signatory page
    - name: name
      description: str, name
    - name: title_1
      description: str, the certifate signatory title
    - name: title_2
      description: str, the certifate signatory title
    - name: organization
      description: str, organization text
    - name: signature_image_id
      description: int, primary key of signature image in wagtailimages_image


  - name: raw__xpro__app__postgres__cms_facultymemberspage
    description: This table contains the faculty for a course or program
    columns:
    - name: page_ptr_id
      description: int, wagtailcore_page record corresponding to the faculty page
    - name: heading
      description: str, heading for the page
    - name: subhead
      description: str, tsubheading for the page
    - name: members
      description: json, json of the course or program faculty, contains name and
        description

  - name: raw__xpro__openedx__mysql__auth_user
    description: xPro open edX users
    columns:
    - name: id
      description: int, sequential ID representing a user on xPro open edX platform
    - name: username
      description: str, unique username on the open edX platform
    - name: password
      description: str, hashed password
    - name: first_name
      description: str, user's first name. This field is not populated on production.
    - name: last_name
      description: str, user's last name. This field is not populated on production.
    - name: email
      description: str, user's email associated with their account
    - name: is_active
      description: boolean, used to soft delete users
    - name: is_staff
      description: boolean, indicating whether user can log into admin site
    - name: is_superuser
      description: boolean, indicating whether user has all permissions on open edx
        platform
    - name: date_joined
      description: timestamp, date and time when a user account was initially created
        on the open edX platform
    - name: last_login
      description: timestamp, date and time when user last login on the open edX platform
